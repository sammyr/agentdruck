(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{1693:function(e,t,a){Promise.resolve().then(a.bind(a,7028))},7028:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ep}});var n=a(7437),l=a(2265),s=JSON.parse('{"C":{"t":[{"id":"p1","name":"Poster 30x46","width":304.8,"height":457.2,"printMargins":{"top":10,"right":10,"bottom":10,"left":10},"bleed":3},{"id":"p2","name":"Poster 41x51","width":406.4,"height":508,"printMargins":{"top":10,"right":10,"bottom":10,"left":10},"bleed":3},{"id":"p3","name":"Poster 46x61","width":457.2,"height":609.6,"printMargins":{"top":10,"right":10,"bottom":10,"left":10},"bleed":3},{"id":"p4","name":"Poster 51x91","width":508,"height":914.4,"printMargins":{"top":10,"right":10,"bottom":10,"left":10},"bleed":3}],"r":[{"id":"l1","name":"Poster 30x20","width":304.8,"height":203.2,"printMargins":{"top":10,"right":10,"bottom":10,"left":10},"bleed":3},{"id":"l2","name":"Poster 36x28","width":355.6,"height":279.4,"printMargins":{"top":10,"right":10,"bottom":10,"left":10},"bleed":3},{"id":"l3","name":"Poster 43x28","width":431.8,"height":279.4,"printMargins":{"top":10,"right":10,"bottom":10,"left":10},"bleed":3},{"id":"l4","name":"Poster 61x41","width":609.6,"height":406.4,"printMargins":{"top":10,"right":10,"bottom":10,"left":10},"bleed":3}]}}'),r=a(1094),i=a(6194),o=a(5432),d=a(7346),c=a(7042),f=a(4769);function u(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,f.m6)((0,c.W)(t))}let m=(0,a(6061).j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),h=(0,l.forwardRef)((e,t)=>{let{className:a,variant:l,size:s,...r}=e;return(0,n.jsx)("button",{className:u(m({variant:l,size:s,className:a})),ref:t,...r})});h.displayName="Button";let x={fontScaleFactor:2.5,bleed:3,minMargin:10,weightMapping:{100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold"}},p={zoom:{initial:1.8,min:.1,max:5,step:.15,buttonStep:.1,speed:{wheel:1.5,smooth:!0}},dragAndDrop:{textBlockSpeed:.2,transitionDuration:10,grid:{size:1,snapThreshold:1},guides:{color:"#000",opacity:.5,thickness:.5}},colors:{background:"#ffffff",selection:"#6b21a8",selectionOpacity:.5,stageBackground:"#f3f4f6",paper:{background:"#ffffff",shadow:"rgba(0, 0, 0, 0.1)"}},cursors:{stage:{default:"default",panning:"grabbing"},textBlock:{default:"pointer",editing:"text"}}};function g(e){let{backgroundColor:t,fontFamily:a,fontSize:c,fontStyle:f,fontWeight:u,pageSize:m,textBlocks:x,onTextBlockUpdate:g,onTextBlockSelect:b,onAddTextBlock:v}=e,y=(0,l.useRef)(null),[j,w]=(0,l.useState)(1.8),[N,k]=(0,l.useState)(null),[S,C]=(0,l.useState)(null),[z,B]=(0,l.useState)(!1),[M,F]=(0,l.useState)({x:0,y:0}),[R,E]=(0,l.useState)(null),[L,T]=(0,l.useState)({x:0,y:0}),[P,A]=(0,l.useState)({x:0,y:0}),[D,I]=(0,l.useState)({x:0,y:0}),[Z,W]=(0,l.useState)(!1),[O,U]=(0,l.useState)(null),H=(0,l.useCallback)(e=>{if(e.preventDefault(),z)return;let t=p.zoom.step,a=p.zoom.speed.wheel,n=e.deltaY<0?t*a:-t*a;w(e=>Number(Math.min(p.zoom.max,Math.max(p.zoom.min,e+n)).toFixed(2)))},[z]);(0,l.useEffect)(()=>{let e=e=>{e.preventDefault()};return document.addEventListener("wheel",e,{passive:!1}),()=>{document.removeEventListener("wheel",e)}},[]);let _=(0,l.useCallback)((e,t)=>{1===e.button?(e.preventDefault(),B(!0),F({x:e.clientX-D.x,y:e.clientY-D.y})):t&&(E(t),T({x:e.clientX,y:e.clientY}),A({x:t.x,y:t.y}))},[D]),Y=(0,l.useCallback)(e=>{let t=p.dragAndDrop.grid.size;return Math.round(e/t)*t},[]),V=(0,l.useCallback)((e,t,a)=>{let n=p.dragAndDrop.grid.snapThreshold/j,l=document.createElement("span");l.style.fontFamily=a.fontFamily,l.style.fontSize="".concat(a.fontSize,"px"),l.style.fontWeight=String(a.fontWeight),l.style.fontStyle=a.fontStyle||"normal",l.innerText=a.text,document.body.appendChild(l);let s=l.offsetWidth,r=l.offsetHeight;document.body.removeChild(l);let i=y.current;if(!i)return{x:e,y:t};let o=i.getBoundingClientRect(),d=s/o.width*100,c=r/o.height*100,f=e-d/2,u=e+d/2,m=t-c/2,h=t+c/2,x=Math.abs(f-50)<n||Math.abs(u-50)<n||Math.abs(e-50)<n,g=Math.abs(m-50)<n||Math.abs(h-50)<n||Math.abs(t-50)<n;W(x||g);let b=e,v=t;return x&&(Math.abs(f-50)<n?b=50+d/2:Math.abs(u-50)<n?b=50-d/2:Math.abs(e-50)<n&&(b=50)),g&&(Math.abs(m-50)<n?v=50+c/2:Math.abs(h-50)<n?v=50-c/2:Math.abs(t-50)<n&&(v=50)),U({x:x?50:null,y:g?50:null}),{x:b,y:v}},[j,y]),Q=(0,l.useCallback)(e=>{if(z)e.preventDefault(),I({x:e.clientX-M.x,y:e.clientY-M.y});else if(R&&g){e.preventDefault();let t=e.clientX-L.x,a=e.clientY-L.y,n=P.x+t*p.dragAndDrop.textBlockSpeed/j,l=P.y+a*p.dragAndDrop.textBlockSpeed/j,s=V(n=Y(n),l=Y(l),R);g({...R,x:s.x,y:s.y})}},[z,M,R,L,P,j,g,Y,V]),X=(0,l.useCallback)(()=>{B(!1),E(null),W(!1),U(null)},[]);(0,l.useEffect)(()=>{if(N){let e=x.find(e=>e.id===N);e&&e.fontSize!==c&&g({...e,fontSize:c})}},[N,c,x,g]);let G=(0,l.useCallback)(()=>{w(e=>Math.min(p.zoom.max,e+p.zoom.buttonStep))},[]),J=(0,l.useCallback)(()=>{w(e=>Math.max(p.zoom.min,e-p.zoom.buttonStep))},[]),K=(0,l.useCallback)(()=>{w(p.zoom.initial),I({x:0,y:0})},[]),$=(0,l.useCallback)(e=>{C(e)},[]),q=(0,l.useCallback)((e,t)=>{let a=x.find(t=>t.id===e);a&&g({...a,text:t})},[x,g]),ee=[...s.C.t,...s.C.r].find(e=>e.id===m);return(0,n.jsxs)("div",{className:"relative h-full flex",children:[(0,n.jsxs)("div",{className:"flex-1 relative overflow-hidden bg-gray-100",onWheel:H,onMouseDown:e=>_(e,null),onMouseMove:Q,onMouseUp:X,onMouseLeave:X,ref:y,style:{touchAction:"none",cursor:z?p.cursors.stage.panning:p.cursors.stage.default},children:[(0,n.jsxs)("div",{className:"absolute left-1/2 top-1/2 origin-center bg-white shadow-[0_0_1px_rgba(0,0,0,0.4)]",style:{transform:"translate(-50%, -50%) translate(".concat(D.x,"px, ").concat(D.y,"px) scale(").concat(j,")"),width:(null==ee?void 0:ee.width)||500,height:(null==ee?void 0:ee.height)||700,backgroundColor:t,transition:z?"none":"transform ".concat(p.dragAndDrop.transitionDuration,"ms ease-out")},children:[Z&&O&&(0,n.jsxs)(n.Fragment,{children:[50===O.x&&(0,n.jsx)("div",{className:"absolute top-0 bottom-0 pointer-events-none",style:{left:"50%",width:"".concat(p.dragAndDrop.guides.thickness,"px"),backgroundColor:p.dragAndDrop.guides.color,opacity:p.dragAndDrop.guides.opacity,transform:"translateX(-50%)"}}),50===O.y&&(0,n.jsx)("div",{className:"absolute left-0 right-0 pointer-events-none",style:{top:"50%",height:"".concat(p.dragAndDrop.guides.thickness,"px"),backgroundColor:p.dragAndDrop.guides.color,opacity:p.dragAndDrop.guides.opacity,transform:"translateY(-50%)"}})]}),x.map(e=>(0,n.jsx)("div",{className:"absolute ".concat(e.selected?"ring-2 ring-[".concat(p.colors.selection,"]/").concat(p.colors.selectionOpacity):""),style:{position:"absolute",left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),color:e.color,fontFamily:e.fontFamily,fontSize:"".concat(e.fontSize,"px"),fontWeight:String(e.fontWeight),fontStyle:(e.fontStyle||"").includes("italic")?"italic":"normal",userSelect:"none",transform:"translate(-50%, -50%)",whiteSpace:e.multiline?"normal":"nowrap",width:S===e.id?"".concat(Math.max(e.width||20,30),"%"):e.multiline?"".concat(e.width||20,"%"):"auto",lineHeight:e.lineHeight||1.2,textAlign:e.textAlign||"left",letterSpacing:"".concat(e.letterSpacing||0,"px"),cursor:S===e.id?p.cursors.textBlock.editing:p.cursors.textBlock.default,zIndex:e.zIndex,padding:S===e.id?"4px":"0"},onMouseDown:t=>{_(t,e),b(e.id),k(e.id)},onDoubleClick:()=>$(e.id),children:S===e.id?(0,n.jsx)("textarea",{value:e.text,onChange:t=>q(e.id,t.target.value),onBlur:()=>C(null),autoFocus:!0,style:{background:"transparent",border:"none",outline:"none",color:"inherit",font:"inherit",resize:"none",width:"100%",height:"auto",minHeight:"1.2em",display:"block",margin:0,padding:0,overflow:"hidden"},rows:Math.max((e.text.match(/\n/g)||[]).length+1,1),onInput:e=>{let t=e.target;t.style.height="auto",t.style.height="".concat(t.scrollHeight,"px")}}):e.text.split("\n").map((t,a)=>(0,n.jsxs)(l.Fragment,{children:[t,a<e.text.split("\n").length-1&&(0,n.jsx)("br",{})]},a))},e.id))]}),(0,n.jsxs)("div",{className:"fixed bottom-4 right-4 bg-white/80 px-3 py-1 rounded-full text-sm font-medium shadow-sm",children:[Math.round(100*j),"%"]})]}),(0,n.jsxs)("div",{className:"w-16 bg-white p-4 border-l flex flex-col items-center space-y-4",children:[(0,n.jsx)(h,{variant:"ghost",size:"icon",onClick:G,className:"w-8 h-8",children:(0,n.jsx)(r.Z,{className:"w-4 h-4"})}),(0,n.jsxs)("div",{className:"text-sm font-medium",children:[Math.round(100*j),"%"]}),(0,n.jsx)(h,{variant:"ghost",size:"icon",onClick:J,className:"w-8 h-8",children:(0,n.jsx)(i.Z,{className:"w-4 h-4"})}),(0,n.jsx)(h,{variant:"ghost",size:"icon",onClick:K,className:"w-8 h-8",title:"Ansicht zur\xfccksetzen",children:(0,n.jsx)(o.Z,{className:"w-4 h-4"})}),(0,n.jsx)(h,{variant:"ghost",size:"icon",onClick:v,className:"w-8 h-8",title:"Text hinzuf\xfcgen",children:(0,n.jsx)(d.Z,{className:"w-4 h-4"})})]})]})}let b=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)("div",{ref:t,className:u("rounded-xl border bg-card text-card-foreground shadow",a),...l})});b.displayName="Card",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)("div",{ref:t,className:u("flex flex-col space-y-1.5 p-6",a),...l})}).displayName="CardHeader",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)("h3",{ref:t,className:u("font-semibold leading-none tracking-tight",a),...l})}).displayName="CardTitle",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)("p",{ref:t,className:u("text-sm text-muted-foreground",a),...l})}).displayName="CardDescription";let v=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)("div",{ref:t,className:u("p-6 pt-0",a),...l})});v.displayName="CardContent",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)("div",{ref:t,className:u("flex items-center p-6 pt-0",a),...l})}).displayName="CardFooter";var y=a(5817),j=a(930);let w=[{name:"Inter",family:"Inter",path:"/fonts/Inter",weights:[{value:100,name:"Thin",file:"Inter-Thin.ttf"},{value:200,name:"Extra Light",file:"Inter-ExtraLight.ttf"},{value:300,name:"Light",file:"Inter-Light.ttf"},{value:400,name:"Regular",file:"Inter-Regular.ttf"},{value:500,name:"Medium",file:"Inter-Medium.ttf"},{value:600,name:"Semi Bold",file:"Inter-SemiBold.ttf"},{value:700,name:"Bold",file:"Inter-Bold.ttf"},{value:800,name:"Extra Bold",file:"Inter-ExtraBold.ttf"},{value:900,name:"Black",file:"Inter-Black.ttf"}]},{name:"Quicksand",family:"Quicksand",path:"/fonts/Quicksand",weights:[{value:400,name:"Regular",file:"Quicksand-regular.ttf"},{value:500,name:"Medium",file:"Quicksand-medium.ttf"},{value:600,name:"Semi Bold",file:"Quicksand-semibold.ttf"},{value:700,name:"Bold",file:"Quicksand-bold.ttf"}]},{name:"Roboto",family:"Roboto",path:"/fonts/Roboto",weights:[{value:100,name:"Thin",file:"Roboto-Thin.ttf"},{value:300,name:"Light",file:"Roboto-Light.ttf"},{value:400,name:"Regular",file:"Roboto-Regular.ttf"},{value:500,name:"Medium",file:"Roboto-Medium.ttf"},{value:700,name:"Bold",file:"Roboto-Bold.ttf"},{value:900,name:"Black",file:"Roboto-Black.ttf"}]},{name:"Poppins",family:"Poppins",path:"/fonts/Poppins",weights:[{value:100,name:"Thin",file:"Poppins-Thin.ttf"},{value:200,name:"Extra Light",file:"Poppins-ExtraLight.ttf"},{value:300,name:"Light",file:"Poppins-Light.ttf"},{value:400,name:"Regular",file:"Poppins-Regular.ttf"},{value:500,name:"Medium",file:"Poppins-Medium.ttf"},{value:600,name:"Semi Bold",file:"Poppins-SemiBold.ttf"},{value:700,name:"Bold",file:"Poppins-Bold.ttf"},{value:800,name:"Extra Bold",file:"Poppins-ExtraBold.ttf"},{value:900,name:"Black",file:"Poppins-Black.ttf"}]},{name:"Montserrat",family:"Montserrat",path:"/fonts/Montserrat",weights:[{value:100,name:"Thin",file:"Montserrat-Thin.ttf"},{value:200,name:"Extra Light",file:"Montserrat-ExtraLight.ttf"},{value:300,name:"Light",file:"Montserrat-Light.ttf"},{value:400,name:"Regular",file:"Montserrat-Regular.ttf"},{value:500,name:"Medium",file:"Montserrat-Medium.ttf"},{value:600,name:"Semi Bold",file:"Montserrat-SemiBold.ttf"},{value:700,name:"Bold",file:"Montserrat-Bold.ttf"},{value:800,name:"Extra Bold",file:"Montserrat-ExtraBold.ttf"},{value:900,name:"Black",file:"Montserrat-Black.ttf"}]},{name:"Open Sans",family:"Open Sans",path:"/fonts/OpenSans",weights:[{value:300,name:"Light",file:"OpenSans-Light.ttf"},{value:400,name:"Regular",file:"OpenSans-Regular.ttf"},{value:500,name:"Medium",file:"OpenSans-Medium.ttf"},{value:600,name:"Semi Bold",file:"OpenSans-SemiBold.ttf"},{value:700,name:"Bold",file:"OpenSans-Bold.ttf"},{value:800,name:"Extra Bold",file:"OpenSans-ExtraBold.ttf"}]}];function N(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:255,g:255,b:255}}function k(e){let t="",a=new Uint8Array(e);for(let e=0;e<a.byteLength;e++)t+=String.fromCharCode(a[e]);return btoa(t)}async function S(e){for(let t of w)try{let a=t.weights.find(e=>400===e.value)||t.weights[0],n="".concat(t.path,"/").concat(a.file);console.log("Lade Schriftart:",n);let l=await fetch(n);if(!l.ok)throw Error("HTTP error! status: ".concat(l.status));let s=await l.arrayBuffer(),r=k(s);for(let a of(e.addFileToVFS("".concat(t.family,".ttf"),r),e.addFont("".concat(t.family,".ttf"),t.family,"normal"),t.weights))if(400!==a.value){let n="".concat(t.path,"/").concat(a.file),l=await fetch(n);if(l.ok){let n=await l.arrayBuffer(),s=k(n),r=x.weightMapping[a.value];e.addFileToVFS("".concat(t.family,"-").concat(r,".ttf"),s),e.addFont("".concat(t.family,"-").concat(r,".ttf"),t.family,r)}}console.log("Schriftart erfolgreich geladen:",t.family)}catch(e){console.error("Fehler beim Laden der Schriftart:",t.family,e)}}async function C(e){let t=[...s.C.t,...s.C.r].find(t=>t.id===e.pageSize);if(!t)throw Error("Ung\xfcltige Papiergr\xf6\xdfe");let{width:a,height:n}=t,l=e.pageSize.startsWith("l")?"landscape":"portrait",{bleed:r}=x,i=new j.kH({orientation:l,unit:"mm",format:[a+2*r,n+2*r]});await S(i);let o=N(e.backgroundColor);i.setFillColor(o.r,o.g,o.b),i.rect(0,0,a+2*r,n+2*r,"F");let d=a+2*r,c=n+2*r;e.content.forEach(e=>{!function(e,t,a,n){!function(e,t){try{let a=t.fontFamily,n="string"==typeof t.fontWeight?parseInt(t.fontWeight):t.fontWeight,l=x.weightMapping[n]||"normal";e.setFont(a,l);let s=Math.round(t.fontSize*x.fontScaleFactor);e.setFontSize(s);let r=N(t.color);e.setTextColor(r.r,r.g,r.b),t.letterSpacing&&e.setCharSpace(t.letterSpacing),t.lineHeight&&e.setLineHeightFactor(t.lineHeight)}catch(t){console.error("Fehler beim Anwenden der Textstile:",t),e.setFont("helvetica","normal")}}(e,t);let{x:l,y:s}={x:t.x/100*a,y:t.y/100*n};e.text(t.text,l,s,{align:"center",baseline:"middle",maxWidth:a-2*x.minMargin})}(i,e,d,c)});let f=i.output("arraybuffer");return new Uint8Array(f)}var z=a(6743);let B=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(z.f,{ref:t,className:u("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...l})});B.displayName=z.f.displayName;var M=a(3425),F=a(3523),R=a(2442);let E=M.fC,L=l.forwardRef((e,t)=>{let{className:a,children:l,...s}=e;return(0,n.jsxs)(M.xz,{ref:t,className:u("flex h-9 w-full items-center justify-between rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),...s,children:[l,(0,n.jsx)(M.JO,{asChild:!0,children:(0,n.jsx)(F.Z,{className:"h-4 w-4 opacity-50"})})]})});L.displayName=M.xz.displayName;let T=M.B4,P=l.forwardRef((e,t)=>{let{className:a,children:l,position:s="popper",...r}=e;return(0,n.jsx)(M.h_,{children:(0,n.jsx)(M.VY,{ref:t,className:u("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:s,...r,children:(0,n.jsx)(M.l_,{className:u("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l})})})});P.displayName=M.VY.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(M.__,{ref:t,className:u("px-2 py-1.5 text-sm font-semibold",a),...l})}).displayName=M.__.displayName;let A=l.forwardRef((e,t)=>{let{className:a,children:l,...s}=e;return(0,n.jsxs)(M.ck,{ref:t,className:u("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[(0,n.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(M.wU,{children:(0,n.jsx)(R.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(M.eT,{children:l})]})});function D(e){let{value:t,onChange:a}=e,l=[...s.C.t.map(e=>({id:e.id,name:e.name,type:"Hochkant"})),...s.C.r.map(e=>({id:e.id,name:e.name,type:"Querformat"}))];return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(B,{htmlFor:"pageSize",children:"Postergr\xf6\xdfe"}),(0,n.jsxs)(E,{value:t,onValueChange:a,children:[(0,n.jsx)(L,{children:(0,n.jsx)(T,{placeholder:"W\xe4hle eine Gr\xf6\xdfe"})}),(0,n.jsx)(P,{children:(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("div",{className:"px-2 py-1.5 text-sm font-semibold",children:"Hochkant"}),l.filter(e=>"Hochkant"===e.type).map(e=>(0,n.jsx)(A,{value:e.id,children:e.name},e.id)),(0,n.jsx)("div",{className:"px-2 py-1.5 text-sm font-semibold",children:"Querformat"}),l.filter(e=>"Querformat"===e.type).map(e=>(0,n.jsx)(A,{value:e.id,children:e.name},e.id))]})})]})]})}A.displayName=M.ck.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(M.Z0,{ref:t,className:u("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=M.Z0.displayName;let I=l.forwardRef((e,t)=>{let{className:a,type:l,...s}=e;return(0,n.jsx)("input",{type:l,className:u("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...s})});I.displayName="Input";var Z=a(5050),W=a(5126);function O(e){let{color:t,onChange:a,label:s,disabled:r=!1}=e,[i,o]=l.useState(!1),[d,c]=l.useState(t),f=e=>{c(e),a(e)};return(0,n.jsxs)(Z.fC,{open:i,onOpenChange:o,children:[(0,n.jsx)(Z.xz,{asChild:!0,children:(0,n.jsx)("button",{className:u("w-12 h-10 rounded-md border border-input shadow-sm",r?"opacity-50 cursor-not-allowed":""),style:{backgroundColor:d},"aria-label":s||"W\xe4hle eine Farbe",disabled:r})}),(0,n.jsx)(Z.h_,{children:(0,n.jsx)(Z.VY,{className:"z-50 w-[240px] rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none",sideOffset:5,children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(W.gW,{color:d,onChange:f}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded border",style:{backgroundColor:d}}),(0,n.jsx)("input",{type:"text",value:d,onChange:e=>f(e.target.value),className:"flex-1 px-2 py-1 text-sm border rounded",spellCheck:!1})]})]})})})]})}let U={background:["#daf2ec","#315f72","#f47bbd","#dfe6e8"],text:["#ffcce7","#f57e7e","#f4ec7b","#f47a60"]};function H(e){let{value:t,onChange:a}=e;return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(B,{htmlFor:"backgroundColor",children:"Hintergrundfarbe"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)(O,{color:t,onChange:a,label:"Hintergrundfarbe w\xe4hlen"}),(0,n.jsx)(I,{type:"text",value:t,onChange:e=>a(e.target.value),className:"flex-1",spellCheck:!1})]}),(0,n.jsx)("div",{className:"grid grid-cols-5 gap-1",children:U.background.map((e,l)=>(0,n.jsx)("button",{className:"w-6 h-6 rounded-full border transition-all ".concat(t===e?"border-blue-500 scale-110":"border-gray-200 hover:scale-105"),style:{backgroundColor:e},onClick:()=>a(e),title:e},"bg-".concat(e,"-").concat(l)))})]})]})}var _=a(1138),Y=a(9224);function V(e){let{value:t,onChange:a,min:l=0,max:s=100,step:r=1,disabled:i=!1,decimalPlaces:o=0}=e;return(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsxs)("div",{className:"relative flex items-center",children:[(0,n.jsx)("input",{type:"number",min:l,max:s,step:r,value:t,onChange:e=>{let t=parseFloat(e.target.value);!isNaN(t)&&t>=l&&t<=s&&a(Number(t.toFixed(o)))},className:"w-20 h-9 px-3 pr-8 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-0 focus:ring-blue-500 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",disabled:i}),(0,n.jsxs)("div",{className:"absolute right-0 inset-y-0 flex flex-col border-l",children:[(0,n.jsx)(h,{variant:"ghost",size:"icon",className:"h-[18px] w-8 rounded-none rounded-tr-md px-1 hover:bg-gray-100",onClick:()=>{a(Number(Math.min(s,t+r).toFixed(o)))},disabled:i||t>=s,children:(0,n.jsx)(Y.Z,{className:"h-3 w-3"})}),(0,n.jsx)(h,{variant:"ghost",size:"icon",className:"h-[18px] w-8 rounded-none rounded-br-md px-1 hover:bg-gray-100",onClick:()=>{a(Number(Math.max(l,t-r).toFixed(o)))},disabled:i||t<=l,children:(0,n.jsx)(F.Z,{className:"h-3 w-3"})})]})]})})}function Q(e){let{selectedBlock:t,onTextBlockUpdate:a,disabled:l=!1}=e;return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(B,{htmlFor:"textColor",children:"Textfarbe"}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)(O,{color:(null==t?void 0:t.color)||"#000000",onChange:e=>{t&&a({...t,color:e})},disabled:l,label:"Textfarbe w\xe4hlen"}),(0,n.jsx)(I,{type:"text",value:(null==t?void 0:t.color)||"#000000",onChange:e=>{t&&a({...t,color:e.target.value})},className:"flex-1 h-12",disabled:l,spellCheck:!1})]}),(0,n.jsx)("div",{className:"grid grid-cols-5 gap-1",children:U.text.map((e,s)=>(0,n.jsx)("button",{className:"w-6 h-6 rounded-full border transition-all ".concat((null==t?void 0:t.color)===e?"border-blue-500 scale-110":"border-gray-200 hover:scale-105"),style:{backgroundColor:e},onClick:()=>{t&&a({...t,color:e})},disabled:l,title:e},"text-".concat(e,"-").concat(s)))})]})]})}var X=a(5890),G=a(8940),J=a(3213),K=a(4560);function $(e){let{fontStyle:t,setFontStyle:a,textAlign:l,setTextAlign:s,disabled:r=!1}=e,i=t.includes("italic");return(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(h,{variant:i?"default":"outline",size:"icon",onClick:()=>a(i?"normal":"italic"),disabled:r,className:"h-9 w-9",children:(0,n.jsx)(X.Z,{className:"h-4 w-4"})}),(0,n.jsxs)("div",{className:"flex border rounded-md",children:[(0,n.jsx)(h,{variant:"left"===l?"default":"ghost",size:"icon",onClick:()=>s("left"),disabled:r,className:"h-9 w-9 rounded-r-none",children:(0,n.jsx)(G.Z,{className:"h-4 w-4"})}),(0,n.jsx)(h,{variant:"center"===l?"default":"ghost",size:"icon",onClick:()=>s("center"),disabled:r,className:"h-9 w-9 rounded-none border-l border-r",children:(0,n.jsx)(J.Z,{className:"h-4 w-4"})}),(0,n.jsx)(h,{variant:"right"===l?"default":"ghost",size:"icon",onClick:()=>s("right"),disabled:r,className:"h-9 w-9 rounded-l-none",children:(0,n.jsx)(K.Z,{className:"h-4 w-4"})})]})]})}function q(e){let{selectedBlockId:t,textBlocks:a,onAddTextBlock:l,onDeleteTextBlock:s,onTextBlockUpdate:r,fontFamily:i,setFontFamily:o,fontSize:c,setFontSize:f,fontStyle:u,setFontStyle:m,fontWeight:x,setFontWeight:p}=e,g=a.find(e=>e.id===t),b=w.find(e=>e.family===i);return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsx)("div",{className:"text-sm font-medium",children:"Texteinstellungen"}),(0,n.jsxs)("div",{className:"space-x-2",children:[(0,n.jsxs)(h,{variant:"outline",size:"sm",onClick:l,children:[(0,n.jsx)(d.Z,{className:"w-4 h-4 mr-1"}),"Neuer Text"]}),t&&(0,n.jsxs)(h,{variant:"outline",size:"sm",onClick:()=>s(t),children:[(0,n.jsx)(_.Z,{className:"w-4 h-4 mr-1"}),"L\xf6schen"]})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(B,{children:"Schriftart"}),(0,n.jsxs)(E,{value:i,onValueChange:o,disabled:!t,children:[(0,n.jsx)(L,{children:(0,n.jsx)(T,{placeholder:"W\xe4hle eine Schriftart"})}),(0,n.jsx)(P,{children:w.map(e=>(0,n.jsx)(A,{value:e.family,style:{fontFamily:e.family},children:e.name},e.family))})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(B,{children:"Schriftgewicht"}),(0,n.jsxs)(E,{value:null==x?void 0:x.toString(),onValueChange:e=>p(Number(e)),disabled:!t||!b,children:[(0,n.jsx)(L,{children:(0,n.jsx)(T,{placeholder:"W\xe4hle ein Schriftgewicht"})}),(0,n.jsx)(P,{children:null==b?void 0:b.weights.map(e=>(0,n.jsx)(A,{value:e.value.toString(),style:{fontFamily:i,fontWeight:e.value},children:e.name},e.value))})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(B,{children:"Schriftgr\xf6\xdfe"}),(0,n.jsx)(V,{value:c,onChange:f,min:10,max:150,step:10,disabled:!t})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(B,{children:"Zeilenh\xf6he"}),(0,n.jsx)(V,{value:(null==g?void 0:g.lineHeight)||1.2,onChange:e=>{g&&r({...g,lineHeight:e})},min:.1,max:5,step:.1,disabled:!t,decimalPlaces:1})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(B,{children:"Buchstabenabstand"}),(0,n.jsx)(V,{value:(null==g?void 0:g.letterSpacing)||0,onChange:e=>{g&&r({...g,letterSpacing:e})},min:-5,max:20,step:.1,disabled:!t,decimalPlaces:1})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(B,{children:"Schriftstil & Ausrichtung"}),(0,n.jsx)($,{fontStyle:u,setFontStyle:m,textAlign:(null==g?void 0:g.textAlign)||"left",setTextAlign:e=>{g&&r({...g,textAlign:e})},disabled:!t})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(B,{children:"Textfarbe"}),(0,n.jsx)(Q,{selectedBlock:g,onTextBlockUpdate:r,disabled:!t})]})]})]})}function ee(e){let{backgroundColor:t,setBackgroundColor:a,fontFamily:l,setFontFamily:s,fontSize:r,setFontSize:i,fontStyle:o,setFontStyle:d,fontWeight:c,setFontWeight:f,pageSize:u,setPageSize:m,selectedBlockId:x,textBlocks:p,onAddTextBlock:g,onDeleteTextBlock:j,onTextBlockUpdate:w}=e,N=async()=>{try{let e=await C({pageSize:u,backgroundColor:t,content:p}),a=new Blob([e],{type:"application/pdf"}),n=window.URL.createObjectURL(a),l=document.createElement("a");l.href=n,l.download="dokument.pdf",document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(n)}catch(e){console.error("Fehler bei der PDF-Generierung:",e)}};return(0,n.jsx)("div",{className:"h-full bg-gray-50 p-4 overflow-y-auto",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(b,{children:(0,n.jsx)(v,{className:"pt-6",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(D,{value:u,onChange:m}),(0,n.jsx)(H,{value:t,onChange:a})]})})}),(0,n.jsx)(b,{children:(0,n.jsx)(v,{className:"pt-6",children:(0,n.jsx)(q,{selectedBlockId:x,textBlocks:p,onAddTextBlock:g,onDeleteTextBlock:j,onTextBlockUpdate:w,fontFamily:l,setFontFamily:s,fontSize:r,setFontSize:i,fontStyle:o,setFontStyle:d,fontWeight:c,setFontWeight:f})})}),(0,n.jsxs)(h,{className:"w-full",variant:"outline",size:"sm",onClick:N,children:[(0,n.jsx)(y.Z,{className:"w-4 h-4 mr-1"}),"PDF exportieren"]})]})})}var et=a(8122);function ea(e){let{blocks:t,onTextBlockUpdate:a}=e,[s,r]=(0,l.useState)(t);return(0,l.useEffect)(()=>{r(t)},[t]),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Ebenen"}),(0,n.jsx)(et.Z5,{onDragEnd:e=>{if(!e.destination)return;let t=Array.from(s),[n]=t.splice(e.source.index,1);t.splice(e.destination.index,0,n),t.forEach((e,n)=>{e.zIndex!==t.length-n&&a({...e,zIndex:t.length-n})})},children:(0,n.jsx)(et.bK,{droppableId:"layers",children:e=>(0,n.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-2",children:[s.map((e,t)=>(0,n.jsx)(et._l,{draggableId:e.id,index:t,children:t=>(0,n.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,className:"bg-gray-50 p-3 rounded flex items-center justify-between hover:bg-gray-100 cursor-move",children:(0,n.jsx)("div",{className:"flex items-center space-x-3",children:(0,n.jsx)("span",{className:"text-sm font-medium",children:e.text||"Leerer Text"})})})},e.id)),e.placeholder]})})})]})}var en=a(2791),el=a(7158),es=a(6369);let er=en.v2;en.ZA,en.h_,en.Tr,en.Ee;let ei=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(en.fC,{ref:t,className:u("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",a),...l})});ei.displayName=en.fC.displayName;let eo=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(en.xz,{ref:t,className:u("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",a),...l})});eo.displayName=en.xz.displayName,l.forwardRef((e,t)=>{let{className:a,inset:l,children:s,...r}=e;return(0,n.jsxs)(en.fF,{ref:t,className:u("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",l&&"pl-8",a),...r,children:[s,(0,n.jsx)(el.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=en.fF.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(en.tu,{ref:t,className:u("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})}).displayName=en.tu.displayName;let ed=l.forwardRef((e,t)=>{let{className:a,align:l="start",alignOffset:s=-4,sideOffset:r=8,...i}=e;return(0,n.jsx)(en.h_,{children:(0,n.jsx)(en.VY,{ref:t,align:l,alignOffset:s,sideOffset:r,className:u("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});ed.displayName=en.VY.displayName;let ec=l.forwardRef((e,t)=>{let{className:a,inset:l,...s}=e;return(0,n.jsx)(en.ck,{ref:t,className:u("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l&&"pl-8",a),...s})});ec.displayName=en.ck.displayName,l.forwardRef((e,t)=>{let{className:a,children:l,checked:s,...r}=e;return(0,n.jsxs)(en.oC,{ref:t,className:u("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:s,...r,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(en.wU,{children:(0,n.jsx)(R.Z,{className:"h-4 w-4"})})}),l]})}).displayName=en.oC.displayName,l.forwardRef((e,t)=>{let{className:a,children:l,...s}=e;return(0,n.jsxs)(en.Rk,{ref:t,className:u("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(en.wU,{children:(0,n.jsx)(es.Z,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=en.Rk.displayName,l.forwardRef((e,t)=>{let{className:a,inset:l,...s}=e;return(0,n.jsx)(en.__,{ref:t,className:u("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",a),...s})}).displayName=en.__.displayName;let ef=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,n.jsx)(en.Z0,{ref:t,className:u("-mx-1 my-1 h-px bg-muted",a),...l})});ef.displayName=en.Z0.displayName;let eu=e=>{let{className:t,...a}=e;return(0,n.jsx)("span",{className:u("ml-auto text-xs tracking-widest text-muted-foreground",t),...a})};async function em(e){let t=JSON.stringify(e),a=new Blob([t],{type:"application/json"}),n=document.createElement("a");n.href=URL.createObjectURL(a),n.download="projekt-".concat(Date.now(),".dd"),n.click(),URL.revokeObjectURL(n.href)}async function eh(e){return new Promise((t,a)=>{let n=new FileReader;n.onload=()=>{try{let e=JSON.parse(n.result);if(!e.version||!e.pageSize||!e.backgroundColor||!e.textBlocks)throw Error("Ung\xfcltiges Projektformat");t({version:e.version,pageSize:e.pageSize,backgroundColor:e.backgroundColor,textBlocks:e.textBlocks.map(e=>{var t,a;return{id:e.id||crypto.randomUUID(),text:e.text||e.content||"",x:e.x||(null===(t=e.position)||void 0===t?void 0:t.x)||0,y:e.y||(null===(a=e.position)||void 0===a?void 0:a.y)||0,color:e.color||"#000000",fontFamily:e.fontFamily||"Arial",fontSize:e.fontSize||16,fontWeight:e.fontWeight||400,fontStyle:e.fontStyle||"normal",width:e.width||100,height:e.height||30,zIndex:e.zIndex||0,textAlign:e.textAlign||"left",lineHeight:e.lineHeight||1.2,letterSpacing:e.letterSpacing||0,multiline:e.multiline||!1,selected:e.selected||!1}})})}catch(e){a(Error("Ung\xfcltiges Projektformat"))}},n.onerror=()=>{a(Error("Fehler beim Lesen der Datei"))},n.readAsText(e)})}function ex(e){let{backgroundColor:t,pageSize:a,textBlocks:l,onGeneratePDF:s,onLoadProject:r}=e,i=async()=>{try{await em({version:"1.0.0",pageSize:a,backgroundColor:t,textBlocks:l})}catch(e){console.error("Fehler beim Speichern:",e)}},o=async()=>{try{let e=document.createElement("input");e.type="file",e.accept=".dd",e.onchange=async e=>{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a)try{let e=await eh(a);console.log("Geladene Projektdaten:",e),r(e)}catch(e){console.error("Fehler beim Laden:",e),alert("Fehler beim Laden der Datei: "+(e instanceof Error?e.message:"Unbekannter Fehler"))}},e.click()}catch(e){console.error("Fehler beim \xd6ffnen:",e),alert("Fehler beim \xd6ffnen der Datei: "+(e instanceof Error?e.message:"Unbekannter Fehler"))}};return(0,n.jsxs)(ei,{className:"rounded-none border-0 border-b shadow-sm",children:[(0,n.jsxs)(er,{children:[(0,n.jsx)(eo,{children:"Datei"}),(0,n.jsxs)(ed,{children:[(0,n.jsxs)(ec,{children:["Neu ",(0,n.jsx)(eu,{children:"⌘N"})]}),(0,n.jsxs)(ec,{onClick:o,children:["\xd6ffnen ",(0,n.jsx)(eu,{children:"⌘O"})]}),(0,n.jsx)(ef,{}),(0,n.jsxs)(ec,{onClick:i,children:["Speichern ",(0,n.jsx)(eu,{children:"⌘S"})]}),(0,n.jsx)(ec,{onClick:s,children:"Als PDF exportieren..."})]})]}),(0,n.jsxs)(er,{children:[(0,n.jsx)(eo,{children:"Bearbeiten"}),(0,n.jsxs)(ed,{children:[(0,n.jsxs)(ec,{children:["R\xfcckg\xe4ngig ",(0,n.jsx)(eu,{children:"⌘Z"})]}),(0,n.jsxs)(ec,{children:["Wiederholen ",(0,n.jsx)(eu,{children:"⇧⌘Z"})]}),(0,n.jsx)(ef,{}),(0,n.jsxs)(ec,{children:["Ausschneiden ",(0,n.jsx)(eu,{children:"⌘X"})]}),(0,n.jsxs)(ec,{children:["Kopieren ",(0,n.jsx)(eu,{children:"⌘C"})]}),(0,n.jsxs)(ec,{children:["Einf\xfcgen ",(0,n.jsx)(eu,{children:"⌘V"})]})]})]}),(0,n.jsxs)(er,{children:[(0,n.jsx)(eo,{children:"Ansicht"}),(0,n.jsxs)(ed,{children:[(0,n.jsx)(ec,{children:"Zoom In"}),(0,n.jsx)(ec,{children:"Zoom Out"}),(0,n.jsx)(ef,{}),(0,n.jsx)(ec,{children:"Gitter anzeigen"}),(0,n.jsx)(ec,{children:"Lineale anzeigen"})]})]})]})}function ep(){let[e,t]=(0,l.useState)("#ffffff"),[a,s]=(0,l.useState)("Inter"),[r,i]=(0,l.useState)(35),[o,d]=(0,l.useState)("normal"),[c,f]=(0,l.useState)(400),[u,m]=(0,l.useState)("p1"),[h,x]=(0,l.useState)(25),[p,b]=(0,l.useState)(10),[v,y]=(0,l.useState)([]),[j,w]=(0,l.useState)(null),[N,k]=(0,l.useState)(!1),[S,C]=(0,l.useState)(!1),z=(0,l.useRef)(0),B=(0,l.useRef)(0),M=(0,l.useRef)(0),F=(0,l.useRef)(0),R=(0,l.useCallback)(e=>{if(N||S){if(N){let t=window.innerWidth;x(Math.round(10*Math.min(Math.max(20,(t-e.clientX)/t*100),80))/10)}if(S){let t=window.innerHeight;b(Math.round(10*Math.min(Math.max(20,(t-e.clientY)/t*100),80))/10)}}},[N,S]),E=(0,l.useCallback)(()=>{k(!1),C(!1)},[]);(0,l.useEffect)(()=>((N||S)&&(document.addEventListener("mousemove",R),document.addEventListener("mouseup",E)),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",E)}),[N,S,R,E]);let L=(0,l.useCallback)(e=>{y(t=>t.map(t=>t.id===e.id?e:t))},[]),T=(0,l.useCallback)(e=>{w(e),y(t=>t.map(t=>({...t,selected:t.id===e})))},[]),P=(0,l.useCallback)(()=>{let e={id:Math.random().toString(36).substr(2,9),text:"Neuer Text",x:50,y:50,color:"#FFCCE7",fontFamily:a,fontSize:r,fontWeight:c,fontStyle:o,width:100,height:30,zIndex:v.length,textAlign:"center",lineHeight:1.2,letterSpacing:0,multiline:!1,selected:!0};y([...v.map(e=>({...e,selected:!1})),e]),w(e.id)},[v,a,r,c,o]),A=(0,l.useCallback)(e=>{y(t=>t.filter(t=>t.id!==e)),w(null)},[]),D=(0,l.useCallback)(()=>{},[]),I=(0,l.useCallback)(e=>{t(e.backgroundColor),m(e.pageSize),y(e.textBlocks)},[]);return(0,l.useEffect)(()=>{j&&y(e=>e.map(e=>e.id===j?{...e,fontFamily:a}:e))},[a,j]),(0,l.useEffect)(()=>{j&&y(e=>e.map(e=>e.id===j?{...e,fontSize:r}:e))},[r,j]),(0,l.useEffect)(()=>{j&&y(e=>e.map(e=>e.id===j?{...e,fontStyle:o}:e))},[o,j]),(0,l.useEffect)(()=>{j&&y(e=>e.map(e=>e.id===j?{...e,fontWeight:String(c)}:e))},[c,j]),(0,n.jsxs)("div",{className:"flex h-screen",children:[(0,n.jsxs)("div",{className:"relative flex flex-col",style:{width:"".concat(100-h,"%")},children:[(0,n.jsx)("div",{className:"sticky top-0 z-50 bg-background border-b",children:(0,n.jsx)(ex,{backgroundColor:e,pageSize:u,textBlocks:v,onGeneratePDF:D,onLoadProject:I})}),(0,n.jsx)(g,{backgroundColor:e,fontFamily:a,fontSize:r,fontStyle:o,fontWeight:String(c),pageSize:u,textBlocks:v,onTextBlockUpdate:L,onTextBlockSelect:T,onAddTextBlock:P})]}),(0,n.jsxs)("div",{className:"flex relative",style:{width:"".concat(h,"%")},children:[(0,n.jsxs)("div",{className:"absolute left-[-4px] top-0 h-full w-2 cursor-ew-resize group z-50",onMouseDown:e=>{k(!0),z.current=e.clientX,M.current=h},children:[(0,n.jsx)("div",{className:"absolute left-[3px] top-0 h-full w-[2px] bg-gray-300 group-hover:bg-gray-400"}),(0,n.jsx)("div",{className:"absolute left-[0px] top-1/2 -translate-y-1/2 w-[8px] h-[80px] rounded-sm bg-gray-300 group-hover:bg-gray-400"})]}),(0,n.jsxs)("div",{className:"flex flex-col w-full",children:[(0,n.jsx)(ee,{selectedBlockId:j,textBlocks:v,onAddTextBlock:P,onDeleteTextBlock:A,onTextBlockUpdate:L,fontFamily:a,setFontFamily:s,fontSize:r,setFontSize:i,fontStyle:o,setFontStyle:d,fontWeight:c,setFontWeight:f,pageSize:u,setPageSize:m,backgroundColor:e,setBackgroundColor:t}),(0,n.jsxs)("div",{className:"relative flex-1",children:[(0,n.jsxs)("div",{className:"absolute top-[-4px] left-0 right-0 h-2 cursor-ns-resize group z-50",onMouseDown:e=>{C(!0),B.current=e.clientY,F.current=p},children:[(0,n.jsx)("div",{className:"absolute top-[3px] left-0 right-0 h-[2px] bg-gray-300 group-hover:bg-gray-400"}),(0,n.jsx)("div",{className:"absolute top-[0px] left-1/2 -translate-x-1/2 h-[8px] w-[80px] rounded-sm bg-gray-300 group-hover:bg-gray-400"})]}),(0,n.jsx)("div",{style:{height:"".concat(p,"vh")},children:(0,n.jsx)(ea,{blocks:v,onTextBlockUpdate:L})})]})]})]})]})}eu.displayname="MenubarShortcut"}},function(e){e.O(0,[505,338,470,971,938,744],function(){return e(e.s=1693)}),_N_E=e.O()}]);